(this["webpackJsonptext-fragment-editor"]=this["webpackJsonptext-fragment-editor"]||[]).push([[0],{13:function(t,e,n){},29:function(t,e,n){"use strict";n.r(e);n(13);var r,i,c=n(12),u=n(5),a=n(7),x=n(3),s=n(6),j=n(1),o=n(0),l={textStart:"",textEnd:"",prefix:"",suffix:""},d="%"+"-".codePointAt(0).toString(16).toUpperCase().padStart(2,"0"),f=function(t){return function(e){return e?t(function(t){return window.encodeURIComponent(t).split("-").join(d)}(e)):""}},b=function(){var t=Object(j.useState)(""),e=Object(x.a)(t,2),n=e[0],c=e[1],d=Object(j.useState)(l),b=Object(x.a)(d,2),h=b[0],O=b[1],p=function(t){O((function(e){return Object(a.a)(Object(a.a)({},e),t)}))},v=Object(j.useMemo)((function(){try{var t=new URL(n);return{url:t,valid:!0,hash:t.hash}}catch(e){return{url:null,valid:!1,hash:""}}}),[n]),m=v.valid,g=v.hash;Object(j.useEffect)((function(){var t=Object(s.regex)(r||(r=Object(u.a)(["[!%'()*-.0-9A-Z_a-z~]"],["[!%'()*\\-.0-9A-Z_a-z~]"]))),e=Object(s.regex)(i||(i=Object(u.a)(["\n            ^\n                #:~:text=\n                (?:(","+)-,)?  # prefix (optional)\n                (","+)         # textStart\n                (?:,(","+))?   # textEnd (optional)\n                (?:,-(","+))?  # suffix (optional)\n            $\n        "],["\n            ^\n                \\#:~:text=\n                (?:(","+)-,)?  # prefix (optional)\n                (","+)         # textStart\n                (?:,(","+))?   # textEnd (optional)\n                (?:,-(","+))?  # suffix (optional)\n            $\n        "])),t,t,t,t),n=(g.match(e)||new Array(5).fill("")).map((function(t){if(!t)return"";try{return decodeURIComponent(t)}catch(e){return""}})),c=Object(x.a)(n,5),a=c[1],j=c[2],o=c[3],l=c[4];O({prefix:a,textStart:j,textEnd:o,suffix:l})}),[g]);var S=Object(j.useMemo)((function(){try{var t=h.prefix,e=h.textStart,r=h.textEnd,i=h.suffix,c=new URL(n);return c.hash=e?["#:~:text=",f((function(t){return"".concat(t,"-,")}))(t),f((function(t){return t}))(e),f((function(t){return",".concat(t)}))(r),f((function(t){return",-".concat(t)}))(i)].filter(Boolean).join(""):g.startsWith("#:~:text=")?"":g,String(c)}catch(u){return""}}),[h,n,g]);return Object(o.jsxs)("div",{children:[Object(o.jsxs)("form",{onSubmit:function(t){return t.preventDefault()},children:[Object(o.jsxs)("div",{children:[Object(o.jsxs)("label",{htmlFor:"url",children:["URL",Object(o.jsx)("br",{})]}),Object(o.jsx)("input",{id:"url",type:"text",value:n,onChange:function(t){return c(t.currentTarget.value.trim())}})]}),n.trim()&&!m&&Object(o.jsx)("div",{children:"Please enter a valid URL"}),Object(o.jsxs)("div",{hidden:!m,children:[Object(o.jsxs)("div",{children:[Object(o.jsxs)("label",{htmlFor:"textStart",children:["Text start",Object(o.jsx)("br",{})]}),Object(o.jsx)("input",{id:"textStart",type:"text",value:h.textStart,onChange:function(t){return p({textStart:t.currentTarget.value})}})]}),Object(o.jsxs)("div",{children:[Object(o.jsxs)("label",{htmlFor:"textEnd",children:["Text end",Object(o.jsx)("br",{})]}),Object(o.jsx)("input",{id:"textEnd",type:"text",value:h.textEnd,onChange:function(t){return p({textEnd:t.currentTarget.value})}})]}),Object(o.jsxs)("div",{children:[Object(o.jsxs)("label",{htmlFor:"prefix",children:["Prefix",Object(o.jsx)("br",{})]}),Object(o.jsx)("input",{id:"prefix",type:"text",value:h.prefix,onChange:function(t){return p({prefix:t.currentTarget.value})}})]}),Object(o.jsxs)("div",{children:[Object(o.jsxs)("label",{htmlFor:"suffix",children:["Suffix",Object(o.jsx)("br",{})]}),Object(o.jsx)("input",{id:"suffix",type:"text",value:h.suffix,onChange:function(t){return p({suffix:t.currentTarget.value})}})]}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{type:"button",onClick:function(){return O(l)},children:"Remove text fragment"})})]})]}),Object(o.jsxs)("div",{hidden:!m,style:{padding:"20px 0"},children:[Object(o.jsx)("div",{children:"Output"}),Object(o.jsx)("pre",{style:{margin:"-10px 0",padding:"20px 0",userSelect:"all"},children:Object(o.jsx)("code",{children:S})})]})]})},h=document.getElementById("root");Object(c.render)(Object(o.jsx)(b,{}),h)}},[[29,1,2]]]);
//# sourceMappingURL=main.09016193.chunk.js.map